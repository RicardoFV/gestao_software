-- criando as tabelas 

CREATE TABLE USUARIOS
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY, 
    NOME VARCHAR(255) NOT NULL,
    EMAIL VARCHAR(200) NOT NULL UNIQUE, 
    DT_INCLUSAO DATE NOT NULL, 
    DT_ALTERACAO DATE NOT NULL, 
    SITUACAO NUMBER(1)
);

CREATE TABLE VERSAO 
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY, 
    NOME VARCHAR(255) NOT NULL,
    DT_INCLUSAO DATE NOT NULL, 
    DT_ALTERACAO DATE NOT NULL,
    ID_USUARIO INTEGER NOT NULL,
    CONSTRAINT FK_USUARIOS_VERSAO FOREIGN KEY(ID_USUARIO) REFERENCES USUARIOS(ID)
);

CREATE TABLE SISTEMAS 
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    NOME VARCHAR(255) NOT NULL,
    IMAGEM VARCHAR(250), 
    DESCRICAO VARCHAR2(500), 
    ID_VERSAO INTEGER NOT NULL, 
    DT_INCLUSAO DATE NOT NULL, 
    DT_ALTERACAO DATE NOT NULL, 
    ID_USUARIO INTEGER NOT NULL, 
    CONSTRAINT FK_USUARIOS_SISTEMAS FOREIGN KEY(ID_USUARIO) REFERENCES USUARIOS(ID),
    CONSTRAINT FK_SISTEMAS_VERSAO FOREIGN KEY(ID_VERSAO) REFERENCES VERSAO(ID)
);


CREATE TABLE REQUISITOS 
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    NOME VARCHAR(255) NOT NULL,
    DESCRICAO VARCHAR2(500), 
    ATIVIDADE VARCHAR2(450), 
    TIPO_REQUISITO VARCHAR2(200), 
    DT_INCLUSAO DATE NOT NULL, 
    DT_ALTERACAO DATE NOT NULL, 
    ID_USUARIO INTEGER NOT NULL, 
    CONSTRAINT FK_USUARIOS_REQUISITOS FOREIGN KEY(ID_USUARIO) REFERENCES USUARIOS(ID) 
);

CREATE TABLE TRATAMENTO 
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    SITUACAO VARCHAR2(150), 
    DT_INCLUSAO DATE NOT NULL, 
    DT_ALTERACAO DATE NOT NULL,
    DT_ENTREGA DATE NOT NULL,
    ID_SISTEMA INTEGER NOT NULL, 
    ID_USUARIO INTEGER NOT NULL, 
    CONSTRAINT FK_USUARIOS_TRATAMENTO FOREIGN KEY(ID_USUARIO) REFERENCES USUARIOS(ID),
    CONSTRAINT FK_SISTEMA_TRATAMENTO FOREIGN KEY(ID_SISTEMA) REFERENCES SISTEMAS(ID) 
);

COMMIT;



